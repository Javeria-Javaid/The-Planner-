<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monthly Planner</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background: #f5f5f5;
      padding: 20px;
    }

    .planner-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      padding: 20px;
    }

    .planner-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #eee;
    }

    .month-controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .month-controls select {
      padding: 8px 12px;
      border-radius: 5px;
      border: 1px solid #ddd;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 10px;
    }

    .weekday-header {
      font-weight: bold;
      text-align: center;
      padding: 10px;
      background: #f0f0f0;
      border-radius: 5px;
    }

    .day-cell {
      min-height: 80px;
      border: 1px solid #eee;
      padding: 5px;
      border-radius: 5px;
    }

    .day-number {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .todo-section {
      grid-column: 8;
      grid-row: 1 / span 6;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .task-list {
      background: #f9f9f9;
      border-radius: 5px;
      padding: 15px;
      flex: 1;
    }

    .task-input {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .task-input input {
      flex: 1;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .task-input button {
      padding: 8px 15px;
      background: #8f807a;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .task-item {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
    }
  </style>
</head>
<body>
<div class="planner-container">
  <div class="planner-header">
    <h1>Monthly Planner</h1>
    <div class="month-controls">
      <select id="month-select">
        <!-- Months will be populated by JS -->
      </select>
      <select id="year-select">
        <!-- Years will be populated by JS -->
      </select>
    </div>
  </div>

  <div class="calendar-grid" id="calendar-grid">
    <!-- Weekday headers -->
    <div class="weekday-header">MON</div>
    <div class="weekday-header">TUE</div>
    <div class="weekday-header">WED</div>
    <div class="weekday-header">THU</div>
    <div class="weekday-header">FRI</div>
    <div class="weekday-header">SAT</div>
    <div class="weekday-header">SUN</div>
    <div class="weekday-header">To Do List</div>

    <!-- Calendar days will be populated by JavaScript -->

    <!-- Todo Section -->
    <div class="todo-section">
      <div class="task-list" id="todo-list">
        <h3>Goals</h3>
        <ul id="goals-list"></ul>
      </div>
      <div class="task-input">
        <input type="text" id="new-goal" placeholder="Add goal...">
        <button id="add-goal">Add</button>
      </div>

      <div class="task-list" id="todo-list">
        <h3>Tasks</h3>
        <ul id="tasks-list"></ul>
      </div>
      <div class="task-input">
        <input type="text" id="new-task" placeholder="Add task...">
        <button id="add-task">Add</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Populate month dropdown
  const months = [
    "January", "February", "March", "April", "May", "June",
    "July", "August", "September", "October", "November", "December"
  ];
  const monthSelect = document.getElementById('month-select');
  months.forEach((month, index) => {
    const option = document.createElement('option');
    option.value = index;
    option.textContent = month;
    monthSelect.appendChild(option);
  });

  // Populate year dropdown (current year ±5)
  const yearSelect = document.getElementById('year-select');
  const currentYear = new Date().getFullYear();
  for (let year = currentYear - 5; year <= currentYear + 5; year++) {
    const option = document.createElement('option');
    option.value = year;
    option.textContent = year;
    yearSelect.appendChild(option);
  }

  // Generate calendar
  function generateCalendar() {
    const month = parseInt(monthSelect.value);
    const year = parseInt(yearSelect.value);
    const calendarGrid = document.getElementById('calendar-grid');

    // Clear existing days (keep headers and todo section)
    while (calendarGrid.children.length > 8) {
      calendarGrid.removeChild(calendarGrid.lastChild);
    }

    // Get first day and days in month
    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    // Add empty cells for days before the 1st
    for (let i = 0; i < (firstDay === 0 ? 6 : firstDay - 1); i++) {
      calendarGrid.appendChild(document.createElement('div'));
    }

    // Add day cells
    for (let day = 1; day <= daysInMonth; day++) {
      const dayCell = document.createElement('div');
      dayCell.className = 'day-cell';
      dayCell.innerHTML = `<div class="day-number">${day}</div>`;
      calendarGrid.appendChild(dayCell);

      // Start new row after Sunday
      if ((day + firstDay - 1) % 7 === 0 && day !== daysInMonth) {
        // Add empty cells to span the todo section
        for (let i = 0; i < 7; i++) {
          calendarGrid.appendChild(document.createElement('div'));
        }
      }
    }
  }

  // Task functionality
  document.getElementById('add-task').addEventListener('click', function() {
    const taskText = document.getElementById('new-task').value.trim();
    if (taskText) {
      const taskItem = document.createElement('li');
      taskItem.className = 'task-item';
      taskItem.innerHTML = `
                    ${taskText}
                    <span onclick="this.parentElement.remove()">×</span>
                `;
      document.getElementById('tasks-list').appendChild(taskItem);
      document.getElementById('new-task').value = '';
    }
  });

  // Goal functionality
  document.getElementById('add-goal').addEventListener('click', function() {
    const goalText = document.getElementById('new-goal').value.trim();
    if (goalText) {
      const goalItem = document.createElement('li');
      goalItem.className = 'task-item';
      goalItem.innerHTML = `
                    ${goalText}
                    <span onclick="this.parentElement.remove()">×</span>
                `;
      document.getElementById('goals-list').appendChild(goalItem);
      document.getElementById('new-goal').value = '';
    }
  });

  // Initialize calendar
  monthSelect.value = new Date().getMonth();
  yearSelect.value = currentYear;
  generateCalendar();

  // Update calendar when month/year changes
  monthSelect.addEventListener('change', generateCalendar);
  yearSelect.addEventListener('change', generateCalendar);
</script>
</body>
</html>
